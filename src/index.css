@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hide scrollbars globally */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Home Hold'em Club - Casino Poker Theme
   Deep greens, gold accents, card motifs, felt textures
   All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Casino Green Base */
    --background: 160 30% 8%;
    --foreground: 45 30% 95%;

    /* Cards */
    --card: 160 25% 12%;
    --card-foreground: 45 30% 95%;

    /* Popover */
    --popover: 160 25% 10%;
    --popover-foreground: 45 30% 95%;

    /* Gold Primary */
    --primary: 43 74% 49%;
    --primary-foreground: 160 30% 8%;

    /* Felt Green Secondary */
    --secondary: 160 40% 20%;
    --secondary-foreground: 45 30% 95%;

    /* Muted */
    --muted: 160 20% 18%;
    --muted-foreground: 160 15% 55%;

    /* Accent - Lighter Gold */
    --accent: 43 60% 40%;
    --accent-foreground: 45 30% 95%;

    /* Destructive - Poker Red */
    --destructive: 0 70% 50%;
    --destructive-foreground: 45 30% 95%;

    /* Borders and Inputs */
    --border: 160 20% 22%;
    --input: 160 20% 18%;
    --ring: 43 74% 49%;

    --radius: 0.75rem;

    /* Sidebar */
    --sidebar-background: 160 25% 10%;
    --sidebar-foreground: 45 30% 90%;
    --sidebar-primary: 43 74% 49%;
    --sidebar-primary-foreground: 160 30% 8%;
    --sidebar-accent: 160 30% 16%;
    --sidebar-accent-foreground: 45 30% 95%;
    --sidebar-border: 160 20% 22%;
    --sidebar-ring: 43 74% 49%;

    /* Custom Poker Colors */
    --poker-red: 0 70% 50%;
    --poker-black: 0 0% 10%;
    --poker-gold: 43 74% 49%;
    --poker-gold-dim: 43 50% 35%;
    --poker-felt: 160 40% 15%;
    --poker-felt-light: 160 35% 22%;
    
    /* Success */
    --success: 142 70% 45%;
    --success-foreground: 45 30% 95%;
  }

  .dark {
    /* Same as root - this is a dark theme by default */
    --background: 160 30% 8%;
    --foreground: 45 30% 95%;
    --card: 160 25% 12%;
    --card-foreground: 45 30% 95%;
    --popover: 160 25% 10%;
    --popover-foreground: 45 30% 95%;
    --primary: 43 74% 49%;
    --primary-foreground: 160 30% 8%;
    --secondary: 160 40% 20%;
    --secondary-foreground: 45 30% 95%;
    --muted: 160 20% 18%;
    --muted-foreground: 160 15% 55%;
    --accent: 43 60% 40%;
    --accent-foreground: 45 30% 95%;
    --destructive: 0 70% 50%;
    --destructive-foreground: 45 30% 95%;
    --border: 160 20% 22%;
    --input: 160 20% 18%;
    --ring: 43 74% 49%;
    --sidebar-background: 160 25% 10%;
    --sidebar-foreground: 45 30% 90%;
    --sidebar-primary: 43 74% 49%;
    --sidebar-primary-foreground: 160 30% 8%;
    --sidebar-accent: 160 30% 16%;
    --sidebar-accent-foreground: 45 30% 95%;
    --sidebar-border: 160 20% 22%;
    --sidebar-ring: 43 74% 49%;
  }

}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', system-ui, sans-serif;
  }
}

/* Felt texture overlay */
.felt-texture {
  background-image: 
    radial-gradient(ellipse at 50% 50%, transparent 0%, hsl(var(--background)) 70%),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-blend-mode: overlay;
}

/* Gold text gradient */
.text-gold-gradient {
  background: linear-gradient(
    135deg,
    hsl(43 74% 55%) 0%,
    hsl(43 74% 49%) 50%,
    hsl(43 60% 40%) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Card suit decorations - using SVG paths for premium rendering */
.card-suit-pattern {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Cpath d='M15 5c0 0-4 4-4 6s1 3 2 3c.55 0 1-.25 1.4-.6l-.4 2.6h2l-.4-2.6c.4.35.85.6 1.4.6 1 0 2-1 2-3s-4-6-4-6z' fill='%23ffffff08'/%3E%3Cpath d='M45 25l-4 4 4 4 4-4-4-4z' fill='%23ff000008'/%3E%3Cpath d='M15 45c-1.5 0-2.75.65-3.5 1.55-.75-.9-2-1.55-3.5-1.55-2 0-3.5 1.5-3.5 3.5 0 3 4.5 5.5 7 7 2.5-1.5 7-4 7-7 0-2-1.5-3.5-3.5-3.5z' fill='%23ff000008'/%3E%3Cpath d='M45 10c-1.5 0-2.5 1-2.5 2.5 0 .7.3 1.3.7 1.7-1 0-2 .6-2 1.75 0 1 .9 1.75 2 1.75.55 0 1-.25 1.35-.45l-.55 2.75h2l-.55-2.75c.35.2.8.45 1.35.45 1.1 0 2-.75 2-1.75 0-1.15-1-1.75-2-1.75.4-.4.7-1 .7-1.7 0-1.5-1-2.5-2.5-2.5z' fill='%23ffffff08'/%3E%3C/svg%3E");
}

/* Glow effects */
.glow-gold {
  box-shadow: 0 0 20px hsl(43 74% 49% / 0.3);
}

.glow-gold-strong {
  box-shadow: 0 0 30px hsl(43 74% 49% / 0.5);
}

/* Animations */
@keyframes pulse-gold {
  0%, 100% {
    box-shadow: 0 0 20px hsl(43 74% 49% / 0.3);
  }
  50% {
    box-shadow: 0 0 30px hsl(43 74% 49% / 0.5);
  }
}

.animate-pulse-gold {
  animation: pulse-gold 2s ease-in-out infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    hsl(43 74% 49% / 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 3s ease-in-out infinite;
}

/* Casino Poker Chip Design */
.poker-chip {
  position: relative;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: 
    repeating-conic-gradient(
      from 0deg,
      var(--chip-color) 0deg 12deg,
      color-mix(in srgb, var(--chip-color) 60%, black) 12deg 24deg
    );
  box-shadow: 
    inset 0 2px 4px rgba(255,255,255,0.2),
    inset 0 -2px 4px rgba(0,0,0,0.4),
    0 3px 6px rgba(0,0,0,0.5);
}

.poker-chip::before {
  content: '';
  position: absolute;
  width: 72%;
  height: 72%;
  background: 
    radial-gradient(circle at 35% 35%, #3d3d3d, #1a1a1a 50%, #0a0a0a);
  border-radius: 50%;
  box-shadow: 
    inset 0 2px 4px rgba(255,255,255,0.15),
    inset 0 -2px 4px rgba(0,0,0,0.6),
    0 0 0 2px var(--chip-color),
    0 0 0 3px color-mix(in srgb, var(--chip-color) 50%, black);
}

.poker-chip::after {
  content: '';
  position: absolute;
  width: 88%;
  height: 88%;
  border-radius: 50%;
  border: 1.5px dashed color-mix(in srgb, var(--chip-color) 70%, white);
  opacity: 0.5;
}

.poker-chip-value {
  position: relative;
  z-index: 1;
  font-weight: 700;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.9);
  font-size: 0.6rem;
  letter-spacing: -0.02em;
}

/* Safe Area Utilities for PWA (iOS notch, home indicator, Android gesture nav) */
.safe-area-top {
  padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left, 0px);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right, 0px);
}

.safe-area-x {
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
}

.safe-area-insets {
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
}

/* Toast safe area for PWA - pushes toasts below status bar/notch */
.mt-safe {
  margin-top: max(env(safe-area-inset-top, 0px), 12px);
}

/* ===== Poker Game Animations ===== */

@keyframes card-deal {
  0% { opacity: 0; transform: translateY(-40px) scale(0.7) rotateZ(-10deg); }
  100% { opacity: 1; transform: translateY(0) scale(1) rotateZ(0deg); }
}

@keyframes card-flip {
  0% { transform: rotateY(180deg); }
  100% { transform: rotateY(0deg); }
}

@keyframes chip-fly {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-30px) scale(0.5); }
}

@keyframes sparkle {
  0% { opacity: 0; transform: scale(0) rotate(0deg); }
  50% { opacity: 1; transform: scale(1) rotate(180deg); }
  100% { opacity: 0; transform: scale(0) rotate(360deg); }
}

@keyframes counter-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

@keyframes phase-flash {
  0% { box-shadow: 0 0 0 0 hsl(43 74% 49% / 0.6); }
  100% { box-shadow: 0 0 30px 10px hsl(43 74% 49% / 0); }
}

@keyframes turn-pulse {
  0%, 100% { box-shadow: 0 0 0 0 hsl(43 74% 49% / 0.4); }
  50% { box-shadow: 0 0 0 8px hsl(43 74% 49% / 0); }
}

@keyframes winner-glow {
  0%, 100% { box-shadow: 0 0 8px hsl(43 74% 49% / 0.5); }
  50% { box-shadow: 0 0 20px hsl(43 74% 49% / 0.9); }
}

@keyframes float-up {
  0% { opacity: 1; transform: translateY(0); }
  75% { opacity: 1; transform: translateY(-8px); }
  100% { opacity: 0; transform: translateY(-20px); }
}

@keyframes confetti-burst {
  0% { opacity: 1; transform: translateY(0) rotate(0deg); }
  100% { opacity: 0; transform: translateY(-80px) rotate(720deg); }
}

@keyframes count-up-scale {
  0% { transform: scale(1.3); color: hsl(43 74% 60%); }
  100% { transform: scale(1); color: inherit; }
}

@keyframes shimmer-btn {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

.animate-card-deal { animation: card-deal 0.4s ease-out both; }
.animate-card-flip { animation: card-flip 0.5s ease-out both; perspective: 800px; }
.animate-chip-fly { animation: chip-fly 0.6s ease-out both; }
.animate-sparkle { animation: sparkle 0.8s ease-out both; }
.animate-counter-pulse { animation: counter-pulse 0.3s ease-out; }
.animate-phase-flash { animation: phase-flash 0.6s ease-out; }
.animate-turn-pulse { animation: turn-pulse 1.5s ease-in-out infinite; }
.animate-winner-glow { animation: winner-glow 1.5s ease-in-out infinite; }
.animate-float-up { animation: float-up 6s ease-out both; }
.animate-confetti { animation: confetti-burst 1s ease-out both; }
.animate-confetti { animation: confetti-burst 1s ease-out both; }

/* Poker table felt */
.poker-felt-bg {
  background: radial-gradient(
    ellipse 80% 60% at 50% 50%,
    hsl(160 45% 18%) 0%,
    hsl(160 40% 14%) 40%,
    hsl(160 35% 10%) 70%,
    hsl(160 30% 8%) 100%
  );
}

/* Card face white */
.card-face-white {
  background: linear-gradient(145deg, hsl(0 0% 100%) 0%, hsl(0 0% 94%) 100%);
}

/* Card back premium */
.card-back-premium {
  background: linear-gradient(
    135deg,
    hsl(160 40% 18%) 0%,
    hsl(160 50% 22%) 30%,
    hsl(43 74% 30%) 50%,
    hsl(160 50% 22%) 70%,
    hsl(160 40% 18%) 100%
  );
}

/* Shimmer button effect */
.shimmer-btn {
  background-size: 200% auto;
  background-image: linear-gradient(
    90deg,
    hsl(43 74% 49%) 0%,
    hsl(43 80% 60%) 25%,
    hsl(43 90% 70%) 50%,
    hsl(43 80% 60%) 75%,
    hsl(43 74% 49%) 100%
  );
  animation: shimmer-btn 3s linear infinite;
}

/* ===== Premium Platform Animations ===== */

@keyframes float-suit {
  0% { transform: translateY(0) rotate(0deg); opacity: 0.15; }
  50% { opacity: 0.25; }
  100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
}

@keyframes slide-up-fade {
  0% { opacity: 0; transform: translateY(24px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 12px hsl(43 74% 49% / 0.3); }
  50% { box-shadow: 0 0 24px hsl(43 74% 49% / 0.6); }
}

@keyframes pulse-border {
  0%, 100% { border-color: hsl(43 74% 49% / 0.3); }
  50% { border-color: hsl(43 74% 49% / 0.7); }
}

@keyframes fold-away {
  0% { opacity: 1; transform: translateY(0) rotateZ(0deg); }
  100% { opacity: 0; transform: translateY(20px) rotateZ(-15deg); }
}

@keyframes allin-flash {
  0% { opacity: 0; }
  20% { opacity: 0.15; }
  100% { opacity: 0; }
}

@keyframes text-shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@keyframes seat-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}

.animate-slide-up-fade { animation: slide-up-fade 0.5s ease-out both; }
.animate-glow-pulse { animation: glow-pulse 2s ease-in-out infinite; }
.animate-pulse-border { animation: pulse-border 2s ease-in-out infinite; }
.animate-fold-away { animation: fold-away 0.5s ease-in both; }
.animate-seat-pulse { animation: seat-pulse 0.6s ease-out; }

@keyframes seat-pulse-glow {
  0%, 100% { box-shadow: 0 0 4px hsl(43 74% 49% / 0.3); }
  50% { box-shadow: 0 0 12px hsl(43 74% 49% / 0.7), 0 0 20px hsl(43 74% 49% / 0.3); }
}
.animate-seat-pulse-glow { animation: seat-pulse-glow 1.5s ease-in-out infinite; }

/* Glass card */
.glass-card {
  background: hsl(var(--card) / 0.6);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid hsl(var(--primary) / 0.15);
  box-shadow: 0 8px 32px hsl(0 0% 0% / 0.3);
}

/* Gradient border */
.gradient-border {
  position: relative;
  border: 1px solid transparent;
  background-clip: padding-box;
}
.gradient-border::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(135deg, hsl(43 74% 49% / 0.4), hsl(160 40% 30% / 0.2), hsl(43 74% 49% / 0.4));
  z-index: -1;
  animation: pulse-border 3s ease-in-out infinite;
}

/* Text shimmer */
.text-shimmer {
  background: linear-gradient(
    90deg,
    hsl(43 74% 55%) 0%,
    hsl(43 90% 75%) 25%,
    hsl(43 74% 55%) 50%,
    hsl(43 90% 75%) 75%,
    hsl(43 74% 55%) 100%
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: text-shimmer 3s linear infinite;
}

/* All-in flash overlay */
.allin-flash {
  animation: allin-flash 0.6s ease-out;
  pointer-events: none;
}

/* Floating suit background */
.float-suit-particle {
  animation: float-suit linear infinite;
  pointer-events: none;
  position: absolute;
  font-size: 1.5rem;
  color: hsl(var(--primary));
  opacity: 0.1;
}

/* Stagger delays for slide-up */
.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }
.stagger-5 { animation-delay: 0.5s; }

/* Winner inline banner animation */
@keyframes winner-banner-in {
  0% { opacity: 0; transform: translate(-50%, -20px) scale(0.8); }
  100% { opacity: 1; transform: translate(-50%, 0) scale(1); }
}

@keyframes winner-banner-out {
  0% { opacity: 1; transform: translate(-50%, 0) scale(1); }
  100% { opacity: 0; transform: translate(-50%, -10px) scale(0.95); }
}

.animate-winner-banner {
  animation: winner-banner-in 0.4s ease-out, winner-banner-out 0.4s ease-in 2s forwards;
}

/* Card deal from deck animation */
@keyframes card-deal-from-deck {
  0% { opacity: 0; transform: translate(0, -60px) scale(0.3) rotateZ(-15deg); }
  40% { opacity: 1; }
  100% { opacity: 1; transform: translate(0, 0) scale(1) rotateZ(0deg); }
}

.animate-card-deal-deck { animation: card-deal-from-deck 0.5s ease-out both; }

/* ===== AAA Premium Poker Animations ===== */

/* Dealer breathing idle */
@keyframes dealer-breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}
.dealer-breathe { animation: dealer-breathe 4s ease-in-out infinite; }

/* Hand name reveal at showdown */
@keyframes hand-name-reveal {
  0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
  50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
  100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}
.animate-hand-name-reveal { animation: hand-name-reveal 0.6s ease-out both; }

/* Gold particle float upward */
@keyframes particle-float {
  0% { opacity: 0; transform: translateY(0) scale(0); }
  20% { opacity: 1; transform: translateY(-5px) scale(1); }
  100% { opacity: 0; transform: translateY(-40px) scale(0.5); }
}
.animate-particle-float { animation: particle-float 2s ease-out both; }

/* Chip fly from seat to pot (custom properties --chip-dx, --chip-dy) */
@keyframes chip-fly-custom {
  0% { transform: translate(0, 0) scale(0.8); opacity: 1; }
  60% { opacity: 1; }
  100% { transform: translate(var(--chip-dx), var(--chip-dy)) scale(1.2); opacity: 1; }
}

/* Chip sweep from pot to winner (container-query based) */
@keyframes chip-sweep {
  0% { transform: translate(0, 0) scale(0.6); opacity: 1; }
  40% { opacity: 1; transform: translate(calc(var(--chip-end-x) * 0.4), calc(var(--chip-end-y) * 0.3)) scale(1.3); }
  100% { transform: translate(var(--chip-end-x), var(--chip-end-y)) scale(1); opacity: 1; }
}

/* Seat dimming for non-active players */
.seat-dimmed { opacity: 0.45; transition: opacity 0.3s ease-out; }
.seat-active { opacity: 1; transition: opacity 0.3s ease-out; }

/* Card 3D flip */
.card-flip-3d {
  perspective: 600px;
}
.card-flip-3d-inner {
  transform-style: preserve-3d;
  transition: transform 0.4s ease-in-out;
}
.card-flip-3d-inner.flipped {
  transform: rotateY(180deg);
}
.card-flip-3d-front,
.card-flip-3d-back {
  backface-visibility: hidden;
  position: absolute;
  inset: 0;
}
.card-flip-3d-back {
  transform: rotateY(180deg);
}

/* Pot award animation */
@keyframes pot-award {
  0% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
  100% { transform: translate(var(--award-dx), var(--award-dy)) scale(0.6); opacity: 0; }
}

/* Premium wood rail shimmer */
@keyframes rail-shimmer {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

/* ===== New Premium Poker Animations ===== */

/* Showdown card reveal - 3D flip with gold flash */
@keyframes showdown-reveal {
  0% { opacity: 0; transform: scale(0.6) rotateY(180deg); }
  60% { opacity: 1; transform: scale(1.1) rotateY(20deg); }
  80% { transform: scale(1.05) rotateY(-5deg); }
  100% { opacity: 1; transform: scale(1) rotateY(0deg); }
}
.animate-showdown-reveal { animation: showdown-reveal 0.6s ease-out both; }

/* Winning cards glow - gold halo pulse */
@keyframes winning-cards-glow {
  0%, 100% {
    filter: drop-shadow(0 0 4px hsl(43 74% 49% / 0.4));
    transform: translateY(0);
  }
  50% {
    filter: drop-shadow(0 0 12px hsl(43 74% 49% / 0.8));
    transform: translateY(-2px);
  }
}
.animate-winning-cards-glow { animation: winning-cards-glow 1.2s ease-in-out infinite; }

/* Active player spotlight pulse */
@keyframes spotlight-pulse {
  0%, 100% { filter: drop-shadow(0 0 0 transparent); }
  50% { filter: drop-shadow(0 0 16px hsl(43 74% 49% / 0.2)); }
}
.animate-spotlight-pulse { animation: spotlight-pulse 2s ease-in-out infinite; }

/* All-in shockwave ring */
@keyframes allin-shockwave {
  0% { transform: scale(1); opacity: 0.6; }
  100% { transform: scale(2); opacity: 0; }
}
.animate-allin-shockwave { animation: allin-shockwave 1s ease-out infinite; }

/* Confetti drift for winner banner */
@keyframes confetti-drift {
  0% { opacity: 1; transform: translateY(0) rotate(0deg) scale(1); }
  100% { opacity: 0; transform: translateY(60px) rotate(360deg) scale(0.3); }
}
.animate-confetti-drift { animation: confetti-drift 2s ease-out both; }

/* Enhanced counter pulse with gold flash */
@keyframes counter-pulse-gold {
  0% { transform: scale(1); }
  40% { transform: scale(1.2); color: hsl(43 74% 65%); text-shadow: 0 0 8px hsl(43 74% 49% / 0.6); }
  100% { transform: scale(1); }
}
.animate-counter-pulse-gold { animation: counter-pulse-gold 0.4s ease-out; }

/* Deal card fly from dealer to seat */
@keyframes deal-card-fly {
  0% { transform: translate(0, 0) scale(0.5); opacity: 0.8; }
  40% { opacity: 1; }
  100% { transform: translate(var(--deal-dx), var(--deal-dy)) scale(1); opacity: 0.9; }
}
